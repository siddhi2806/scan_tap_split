(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{6950:function(e,s,t){Promise.resolve().then(t.bind(t,8291))},8291:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return l}});var r=t(7437),a=t(2265),n=t(6463);function l(){let[e,s]=(0,a.useState)([]),[t,l]=(0,a.useState)(0),[i,o]=(0,a.useState)(0),c=(0,n.useRouter)();(0,a.useEffect)(()=>{let e=localStorage.getItem("extractedItems");if(e)try{let t=JSON.parse(e).map((e,s)=>({...e,id:"item-".concat(s)}));s(t)}catch(e){console.error("Failed to parse extracted items:",e)}},[]);let d=(t,r,a)=>{s(e.map(e=>e.id===t?{...e,[r]:a}:e))},u=t=>{s(e.filter(e=>e.id!==t))},m=e.reduce((e,s)=>e+s.price,0),x=m+t+i;return(0,r.jsxs)("main",{className:"p-4 max-w-xl mx-auto",children:[(0,r.jsx)("button",{onClick:()=>c.back(),className:"mb-4 text-orange-500 hover:underline",children:"← Back"}),(0,r.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Receipt Items"}),(0,r.jsx)("p",{className:"text-gray-500 mb-6",children:"List all the items on your receipt"}),(0,r.jsx)("div",{className:"space-y-3 mb-6",children:e.map((e,s)=>(0,r.jsxs)("div",{className:"flex gap-2 items-center p-3 border rounded-lg",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("input",{type:"text",value:e.name,onChange:s=>d(e.id,"name",s.target.value),placeholder:"Item name",className:"w-full p-2 border rounded focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),(0,r.jsx)("div",{className:"w-24",children:(0,r.jsx)("input",{type:"number",value:e.price,onChange:s=>d(e.id,"price",parseFloat(s.target.value)||0),placeholder:"0.00",step:"0.01",min:"0",className:"w-full p-2 border rounded focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),(0,r.jsx)("button",{onClick:()=>u(e.id),className:"px-3 py-2 text-orange-500 hover:bg-orange-50 rounded transition-colors",children:"Delete"})]},e.id))}),(0,r.jsx)("button",{onClick:()=>{s([...e,{id:"item-".concat(Date.now()),name:"",price:0}])},className:"w-full mb-6 p-3 border-2 border-dashed border-gray-300 text-gray-600 rounded-lg hover:border-orange-400 hover:text-orange-600 transition-colors",children:"+ Add Item"}),(0,r.jsx)("hr",{className:"mb-4"}),(0,r.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("label",{className:"text-gray-700",children:"Tip:"}),(0,r.jsx)("input",{type:"number",value:t,onChange:e=>l(parseFloat(e.target.value)||0),placeholder:"0.00",step:"0.01",min:"0",className:"w-24 p-2 border rounded focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("label",{className:"text-gray-700",children:"Tax:"}),(0,r.jsx)("input",{type:"number",value:i,onChange:e=>o(parseFloat(e.target.value)||0),placeholder:"0.00",step:"0.01",min:"0",className:"w-24 p-2 border rounded focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),(0,r.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,r.jsx)("span",{children:"Subtotal:"}),(0,r.jsxs)("span",{children:["$",m.toFixed(2)]})]}),t>0&&(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,r.jsx)("span",{children:"Tip:"}),(0,r.jsxs)("span",{children:["$",t.toFixed(2)]})]}),i>0&&(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,r.jsx)("span",{children:"Tax:"}),(0,r.jsxs)("span",{children:["$",i.toFixed(2)]})]}),(0,r.jsx)("hr",{className:"my-2"}),(0,r.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,r.jsx)("span",{children:"Total:"}),(0,r.jsxs)("span",{children:["$",x.toFixed(2)]})]})]}),(0,r.jsx)("button",{onClick:()=>{localStorage.setItem("receiptItems",JSON.stringify(e)),localStorage.setItem("receiptTip",t.toString()),localStorage.setItem("receiptTax",i.toString()),c.push("/assign-items")},disabled:0===e.length,className:"w-full bg-orange-500 text-white px-6 py-3 rounded-lg shadow hover:bg-orange-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:"Continue"})]})}},6463:function(e,s,t){"use strict";var r=t(1169);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=6950)}),_N_E=e.O()}]);